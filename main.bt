// Copyright (c) 2023-present Lukas Neubert.
// This Source Code is subject to the terms of the Mozilla Public License 2.0.
package main

import os

fun main(){
	args := os.user_args()
	name := args[0]
	text := os.read_file(name)

	tokens := tokenize(text)
	mut table := new_table()
	ast := parse(tokens, table)
	js := generate(ast, table)

	out_name := name.replace('.d.ts', '.bt')
	if not os.exists('out'){
		os.mkdir('out')
	}
	os.write_file('out/${out_name}', js)
}
